server:
  port: 8080

spring:
  application:
    name: api-gateway

  cloud:
    compatibility-verifier:
      enabled: false

    gateway:
      routes:

        # ======================== CLIENTES ========================
        - id: clientes-service
          uri: http://microservicio-clientes:8080
          predicates:
            - Path=/api/v1/clientes/**


        # ====================== CONTENEDORES ======================
        - id: contenedores-service
          uri: http://microservicio-contenedores:8080
          predicates:
            - Path=/api/v1/contenedores/**


        # ======================== CAMIONES =========================
        - id: camiones-service
          uri: http://microservicio-camiones:8080
          predicates:
            - Path=/api/v1/camiones/**


        # ========================= EXTERNO =========================
        - id: externo-service
          uri: http://microservicio-externo:8080
          predicates:
            - Path=/api/v1/externo/**

        - id: clientes-openapi
          uri: http://microservicio-clientes:8081
          predicates:
           - Path=/v3/api-docs/clientes
          filters:
           - RewritePath=/v3/api-docs/clientes, /v3/api-docs

      # ðŸ’¡ RUTA DE DOCUMENTACIÃ“N: Proxy para obtener el JSON de Swagger de Contenedores
        - id: contenedores-openapi
          uri: http://microservicio-contenedores:8082
          predicates:
            - Path=/v3/api-docs/contenedores
          filters:
            - RewritePath=/v3/api-docs/contenedores, /v3/api-docs

# ConfiguraciÃ³n del SpringDoc OpenAPI Manager (IMPORTANTE)
springdoc:
  swagger-ui:
    path: /swagger-ui.html   # URL del Swagger UI
    urls:
      - name: Clientes
        url: /v3/api-docs/clientes
      - name: Contenedores
        url: /v3/api-docs/contenedores
      - name: Camiones
        url: /v3/api-docs/camiones
      - name: Externo
        url: /v3/api-docs/externo